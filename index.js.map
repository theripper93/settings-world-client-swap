{"version":3,"file":"./index.js","mappings":"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","sources":["webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./scripts/settings.js","webpack:///./scripts/config.js","webpack:///./scripts/lib/welcome.js","webpack:///./scripts/main.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import {MODULE_ID} from \"./main.js\";\r\n\r\nconst SETTING_CACHE = {};\r\nconst DEFAULT_CACHE = false;\r\n\r\nexport function registerSettings() {\r\n    const settings = {\r\n    };\r\n\r\n    registerSettingsArray(settings);\r\n}\r\n\r\nexport function getSetting(key) {\r\n    return SETTING_CACHE[key] ?? game.settings.get(MODULE_ID, key);\r\n}\r\n\r\nexport async function setSetting(key, value) {\r\n    return await game.settings.set(MODULE_ID, key, value);\r\n}\r\n\r\nfunction registerSettingsArray(settings) {\r\n    for (const [key, value] of Object.entries(settings)) {\r\n        if (!value.name) value.name = `${MODULE_ID}.settings.${key}.name`\r\n        if (!value.hint) value.hint = `${MODULE_ID}.settings.${key}.hint`\r\n        if (value.useCache === undefined) value.useCache = DEFAULT_CACHE;\r\n        if (value.useCache) {\r\n            const unwrappedOnChange = value.onChange;\r\n            if (value.onChange) value.onChange = (value) => {\r\n                SETTING_CACHE[key] = value;\r\n                if (unwrappedOnChange) unwrappedOnChange(value);\r\n            }\r\n        }\r\n        game.settings.register(MODULE_ID, key, value);\r\n        if(value.useCache) SETTING_CACHE[key] = getSetting(key);\r\n    }\r\n}","import { MODULE_ID, ALTERED_SETTING_IDS } from \"./main.js\";\r\nimport {getSetting, setSetting} from \"./settings.js\";\r\n\r\nconst ALLOW_WORLD_TO_CLIENT = false;\r\n\r\nexport function initConfig() {\r\n    if(!game.user.isGM) return;\r\n    Hooks.on(\"renderSettingsConfig\", (app, html) => {\r\n        const element = html[0] ?? html;\r\n\r\n        const settingsFormGroups = element.querySelectorAll('.form-group[data-setting-id]');\r\n\r\n        settingsFormGroups.forEach(formGroup => {\r\n            const settingId = formGroup.dataset.settingId;\r\n            if (!settingId) return;\r\n            const setting = game.settings.settings.get(settingId);\r\n            if (!setting) return;\r\n            const altered = ALTERED_SETTING_IDS.includes(settingId);\r\n            const originalScope = altered ? (setting.scope === \"world\" ? \"client\" : \"world\") : setting.scope;\r\n            if (originalScope === \"world\" && !ALLOW_WORLD_TO_CLIENT) {\r\n                const worldIcon = document.createElement(\"label\");\r\n                worldIcon.innerText = \"ðŸŒŽ\";\r\n                worldIcon.style.marginRight = \"0.3rem\";\r\n                worldIcon.style.maxWidth = \"1rem\";\r\n                formGroup.prepend(worldIcon);\r\n                return;\r\n            }\r\n            const select = document.createElement(\"select\");\r\n            select.style.maxWidth = \"3rem\";\r\n            select.style.marginRight = \"0.3rem\";\r\n            if(altered) select.style.border = \"2px dotted var(--color-shadow-primary)\";\r\n            const worldOption = document.createElement(\"option\");\r\n            worldOption.value = \"world\";\r\n            worldOption.text = \"ðŸŒŽ\";\r\n            worldOption.selected = setting.scope === \"world\";\r\n            select.appendChild(worldOption);\r\n            const clientOption = document.createElement(\"option\");\r\n            clientOption.value = \"client\";\r\n            clientOption.text = \"ðŸ‘¤\";\r\n            clientOption.selected = setting.scope === \"client\";\r\n            select.appendChild(clientOption);\r\n            const label = formGroup.querySelector(\"label\");\r\n            formGroup.prepend(select);\r\n            select.addEventListener(\"change\", event => {\r\n                const value = event.target.value;\r\n                const configuration = getSetting(\"configuration\");\r\n                configuration[settingId.replace(\".\", \"\")] = value;\r\n                setSetting(\"configuration\", configuration);\r\n                ui.notifications.info(game.i18n.localize(\"settings-world-client-swap.notification\").replace(\"{setting}\", label.textContent).replace(\"{value}\", value));\r\n            });\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n    });\r\n}","import {MODULE_ID} from \"../main.js\";\n\nconst SHOWN_KEY = \"chat-welcome-message-shown\";\n\nexport function showWelcome() {\n    if (!game.user.isGM) return;\n    const module = game.modules.get(MODULE_ID);\n    const VIDEO_ID = \"2Iq_so_GsLA\";\n    const EMBEDDED_VIDEO = `<iframe width=\"100%\" height=\"auto\" src=\"https://www.youtube.com/embed/${VIDEO_ID}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n    const WIKI_URL = module.protected ? `https://wiki.theripper93.com/premium/${MODULE_ID}` : `https://wiki.theripper93.com/free/${MODULE_ID}`;\n    const MESSAGE = `<h1>${module.title}</h1>\n    <p>by <a href=\"https://theripper93.com\">theripper93</a></p>\n    <p><strong>New to ${module.title}? Visit the <a href=\"${WIKI_URL}\">Wiki</a> for a quickstart guide and resources.</strong></p>\n    ${VIDEO_ID ? EMBEDDED_VIDEO : \"\"}\n    <p>Special thanks to all my <a href=\"https://www.patreon.com/theripper93\">Patreons</a> for making ongoing updates and development possible. Supporting gives you access to <strong>30+ premium modules</strong> and <strong>priority support</strong>.</p>\n    <p><strong>Explore all resources and modules:</strong></p> <ul>\n    <li><a href=\"https://theripper93.com/\">Check out all my free and premium modules</a></li>\n    <li><a href=\"${WIKI_URL}\">${module.title} Wiki</a></li>\n    <li><a href=\"https://www.patreon.com/theripper93\">Support on Patreon</a></li>\n    <li><a href=\"https://discord.theripper93.com/\">Discord Channel</a></li>\n    </ul>`;\n\n\n    game.settings.register(MODULE_ID, SHOWN_KEY, {\n        default: false,\n        type: Boolean,\n        scope: \"world\",\n        config: false,\n    });\n\n    if (!game.settings.get(MODULE_ID, SHOWN_KEY)) {\n\n        ChatMessage.create({\n            user: game.user.id,\n            whisper: game.users.filter(u => u.isGM).map(u => u.id),\n            blind: true,\n            content: MESSAGE,\n        });\n\n        game.settings.set(MODULE_ID, SHOWN_KEY, true);\n    }\n}","import { initConfig } from \"./config.js\";\r\nimport {showWelcome} from \"./lib/welcome.js\";\r\nimport { getSetting, registerSettings } from \"./settings.js\";\r\n\r\nexport const MODULE_ID = \"settings-world-client-swap\";\r\n\r\nexport const ALTERED_SETTING_IDS = [];\r\n\r\nHooks.on(\"init\", () => {\r\n    registerSettings();\r\n});\r\n\r\nHooks.on(\"ready\", () => {\r\n    if (game.modules.get(\"theripper-premium-hub\")?.active) {\r\n        ui.notifications.warn(\"The features of 'Settings - Client to World' have been migrated to the TheRipper Module HUB, please uninstall this module.\");\r\n        return;\r\n    }\r\n    initConfig();\r\n    showWelcome();\r\n});\r\n\r\nlet registered = false;\r\n\r\nfunction registerFirst() {\r\n    if (registered) return;\r\n    registered = true;\r\n    this.register(MODULE_ID, \"configuration\", {\r\n        scope: \"world\",\r\n        config: false,\r\n        default: {},\r\n        type: Object,\r\n    });\r\n}\r\n\r\nconst registerSetting = ClientSettings.prototype.register;\r\nClientSettings.prototype.register = function (...args) {\r\n    registerFirst.call(this);\r\n    const [namespace, key, data] = args;\r\n    if (namespace === MODULE_ID) return registerSetting.call(this, ...args);\r\n    const configuration = getSetting(\"configuration\");\r\n    if (configuration[namespace + key] && configuration[namespace + key] !== data.scope) {\r\n        data.scope = configuration[namespace + key];\r\n        ALTERED_SETTING_IDS.push(namespace + \".\" + key);\r\n    }\r\n    return registerSetting.call(this, ...args);\r\n};\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_regeneratorRuntime","Op","hasOwn","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","_catch","thrown","delegateYield","_slicedToArray","arr","_arrayWithHoles","Array","isArray","_iterableToArrayLimit","_i","_s","_e","_x","_r","_arr","_n","_d","_unsupportedIterableToArray","minLen","_arrayLikeToArray","n","toString","from","test","_nonIterableRest","len","arr2","asyncGeneratorStep","gen","_next","_throw","SETTING_CACHE","DEFAULT_CACHE","registerSettings","registerSettingsArray","settings","_loop","_Object$entries$_i","_Object$entries","concat","MODULE_ID","hint","useCache","unwrappedOnChange","onChange","game","register","getSetting","entries","_SETTING_CACHE$key","_setSetting","_asyncToGenerator","args","arguments","apply","_callee","_callee$","_context","set","initConfig","user","isGM","Hooks","on","app","html","_html$","querySelectorAll","formGroup","settingId","dataset","setting","altered","ALTERED_SETTING_IDS","includes","scope","worldIcon","document","createElement","innerText","style","marginRight","maxWidth","prepend","select","border","worldOption","text","selected","appendChild","clientOption","label","querySelector","addEventListener","event","target","configuration","replace","setSetting","_x2","ui","notifications","i18n","localize","textContent","SHOWN_KEY","_game$modules$get","modules","active","warn","showWelcome","module","VIDEO_ID","EMBEDDED_VIDEO","WIKI_URL","MESSAGE","title","default","Boolean","config","ChatMessage","id","whisper","users","filter","u","map","blind","content","registered","registerFirst","this","registerSetting","ClientSettings","_len","_key","namespace","data"],"sourceRoot":""}